<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>函数节流throttle</title>
		<style>
			div{
				background: green;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%,-50%);
			}
		</style>
	</head>
	<body>
		<div></div>
		<script>
			/*
			1 函数节流是优化高频执行js代码的手段 
			可以减少高频调用函数的执行次数
			2 作用是减少代码执行次数，提升网页性能
			3 应用场景：oninput / onmousemove / onscroll / onresize 等事件
			4 函数节流和函数防抖区别
			一个是减少函数执行次数，一个是只函数执行一次
			*/
		 let oDiv = document.querySelector('div');
		 resetSize();
		 function resetSize() {
		 	let width = innerWidth;
		 	let height = innerHeight;
		 	oDiv.style.width = width / 2 + 'px';
		 	oDiv.style.height = height / 2 + 'px';
		 }
		 let timerId = null;
		 let flag = true;
		 window.onresize = function() {
			if(!flag) {
				return;
			}
			flag = false;
		 	timerId && clearTimeout(timerId);
		 	timerId = setTimeout(function() {
				flag = true;
		 		resetSize();
		 		console.log('尺寸变化');
		 	}, 500)
		}
		</script>
	</body>
</html>
